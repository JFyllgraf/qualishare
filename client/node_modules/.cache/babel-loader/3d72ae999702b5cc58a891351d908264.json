{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jespe\\\\OneDrive\\\\Skrivebord\\\\projects\\\\qualishare\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\nimport Header from './components/Header/Header';\nimport Content from './components/Content/Content';\nimport CodeToggle from './components/CodeToggle/CodeToggle';\nimport CodeFeed from './components/CodeFeed/CodeFeed';\nimport Code from './data_model/Code';\nimport './App.css';\nimport io from \"socket.io-client\"; // <Router>\n//   <Route path=\"/\" exact component={Join} />\n//   <Route path=\"/chat\" component={Chat} />\n// </Router>\n\nlet socket;\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateStateHandler = property => {\n      this.setState({\n        selected: property\n      }, () => {//console.log(\"In updateStatehandler: \");\n        //console.log(this.state.selected);\n        //console.log(\"Stringify: \", JSON.stringify(this.state.codeObjects[this.state.codeObjects.length-1]));\n      }, socket.emit(\"newCode\", JSON.stringify(this.state.codeObjects[this.state.codeObjects.length - 1]))); //always emit last\n    };\n\n    this.addNameAndRoom = (name, room) => {\n      this.setState({\n        name: name,\n        room: room,\n        isLoggedIn: true\n      });\n    };\n\n    this.addCodeToList = code => {\n      let codes = [...this.state.codeObjects, code];\n      this.setState({\n        codeObjects: codes\n      }, console.log(this.state.codeObjects) //should be removed at some point\n      );\n    };\n\n    this.addreceivedCode = code => {\n      let codes = [...this.state.codeObjects, code];\n      this.setState({\n        codeObjects: codes\n      }, console.log(this.state.codeObjects) //should be removed at some point\n      );\n    };\n\n    this.deleteCodeFromList = index => {\n      let temp = [...this.state.codeObjects];\n      temp.splice(index, 1);\n      this.setState({\n        codeObjects: temp\n      });\n    };\n\n    this.getCodes = () => {\n      return this.state.codeObjects;\n    };\n\n    this.join = () => {\n      return React.createElement(Join, {\n        addNameAndRoom: this.addNameAndRoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    };\n\n    this.chat = () => {\n      console.log(\"In chat: \", this.state);\n      return React.createElement(Chat, {\n        Name: this.state.name,\n        Room: this.state.room,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n    };\n\n    this.state = {\n      name: \"\",\n      room: \"\",\n      isLoggedIn: false,\n      codeObjects: [new Code('Code 1'), new Code('Code 2')],\n      selected: ''\n    };\n    const ENDPOINT = 'localhost:5000';\n    socket = io(ENDPOINT);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"grid-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"menu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(CodeToggle, {\n      addCodeToList: this.addCodeToList,\n      deleteCodeFromList: this.deleteCodeFromList,\n      getCodes: this.getCodes,\n      addreceivedCode: this.addreceivedCode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(CodeFeed, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Content, {\n      selected: !this.state.selected ? this.state.codeObjects[0] : this.state.selected,\n      codeObjects: this.state.codeObjects,\n      handler: this.updateStateHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"extra\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, this.state.isLoggedIn ? this.chat() : this.join()), React.createElement(\"div\", {\n      className: \"footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/jespe/OneDrive/Skrivebord/projects/qualishare/client/src/App.js"],"names":["React","Component","Join","Chat","Header","Content","CodeToggle","CodeFeed","Code","io","socket","App","constructor","props","updateStateHandler","property","setState","selected","emit","JSON","stringify","state","codeObjects","length","addNameAndRoom","name","room","isLoggedIn","addCodeToList","code","codes","console","log","addreceivedCode","deleteCodeFromList","index","temp","splice","getCodes","join","chat","ENDPOINT","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\n\r\nimport Join from './components/Join/Join';\r\nimport Chat from './components/Chat/Chat';\r\nimport Header from './components/Header/Header';\r\nimport Content from './components/Content/Content';\r\nimport CodeToggle from './components/CodeToggle/CodeToggle';\r\nimport CodeFeed from './components/CodeFeed/CodeFeed';\r\nimport Code from './data_model/Code';\r\n\r\nimport './App.css';\r\nimport io from \"socket.io-client\";\r\n    // <Router>\r\n    //   <Route path=\"/\" exact component={Join} />\r\n    //   <Route path=\"/chat\" component={Chat} />\r\n    // </Router>\r\n\r\nlet socket;\r\n\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        name: \"\",\r\n        room: \"\",\r\n        isLoggedIn: false,\r\n        codeObjects: [new Code('Code 1'), new Code('Code 2')],\r\n        selected: ''\r\n    };\r\n      const ENDPOINT = 'localhost:5000';\r\n      socket = io(ENDPOINT);\r\n  }\r\n\r\n    updateStateHandler = (property) => {\r\n    this.setState({selected: property}, () => {\r\n      //console.log(\"In updateStatehandler: \");\r\n      //console.log(this.state.selected);\r\n      //console.log(\"Stringify: \", JSON.stringify(this.state.codeObjects[this.state.codeObjects.length-1]));\r\n    }, socket.emit(\"newCode\", JSON.stringify(this.state.codeObjects[this.state.codeObjects.length-1]))); //always emit last\r\n  };\r\n\r\n  //this function updates parent (app.js) state as expected\r\n  addNameAndRoom = (name, room) => {\r\n      this.setState({\r\n          name: name,\r\n          room: room,\r\n          isLoggedIn: true\r\n      }\r\n      );\r\n  };\r\n\r\n  addCodeToList = (code) => {\r\n      let codes = [...this.state.codeObjects, code];\r\n      this.setState({\r\n          codeObjects: codes\r\n        }, console.log(this.state.codeObjects) //should be removed at some point\r\n      );\r\n  };\r\n\r\n  addreceivedCode = (code) => {\r\n      let codes = [...this.state.codeObjects, code];\r\n      this.setState({\r\n              codeObjects: codes\r\n          }, console.log(this.state.codeObjects) //should be removed at some point\r\n      );\r\n  };\r\n\r\n  deleteCodeFromList = (index) => {\r\n      let temp = [...this.state.codeObjects];\r\n      temp.splice(index, 1);\r\n      this.setState({\r\n          codeObjects: temp\r\n      })\r\n  };\r\n\r\n  getCodes = () => {\r\n      return this.state.codeObjects;\r\n  };\r\n\r\n  join = () => {\r\n      return (\r\n          <Join addNameAndRoom={this.addNameAndRoom}/>\r\n      )\r\n  };\r\n  chat = () => {\r\n      console.log(\"In chat: \", this.state);\r\n      return (\r\n      <Chat Name={this.state.name} Room={this.state.room} />\r\n      )\r\n  };\r\n\r\n  render() {\r\n      return (\r\n        <div className=\"grid-container\">\r\n            <div className=\"header\">\r\n            <Header/>\r\n            </div>\r\n            <div className=\"menu\">\r\n              <CodeToggle addCodeToList={this.addCodeToList} deleteCodeFromList={this.deleteCodeFromList} getCodes={this.getCodes} addreceivedCode={this.addreceivedCode} />\r\n              <CodeFeed/>\r\n            </div>\r\n            <div className=\"content\">\r\n              <Content\r\n               selected={\r\n                 !this.state.selected ?\r\n                  this.state.codeObjects[0] : this.state.selected\r\n               }\r\n               codeObjects={this.state.codeObjects}\r\n               handler={this.updateStateHandler}\r\n               />\r\n            </div>\r\n            <div className=\"extra\">\r\n              {this.state.isLoggedIn ? this.chat() : this.join()}\r\n            </div>\r\n            <div className=\"footer\"></div>\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default App\r\n"]},"metadata":{},"sourceType":"module"}